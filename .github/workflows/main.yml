name: NodeJs Backend workday

on: push

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4
      - name: Use Node
        uses: actions/setup-node@v4
        with:
          node-version: 18
      - name: install dependencies
        run: npm install
      - name: Run test
        run: npm test
        env:
            MONGO_URI: ${{ secrets.MONGO_URI }}
#   deploy:
#     name: Wait for Deploy
#     runs-on: ubuntu-latest
#     needs: [build]
#     steps:
#       - name: Deploy to production
#         uses: johnbeynon/render-deploy-action@v0.0.8
#         with:
#           service-id: ${{ secrets.MY_RENDER_SERVICE_ID }}
#           api-key: ${{ secrets.MY_RENDER_API_KEY }}
#           wait-for-success: true
